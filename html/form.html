<!DOCTYPE html>
<html lang = "en">
<head>
	<meta charset = "UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<link rel = "stylesheet" href="../css/style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Zain:ital,wght@0,200;0,300;0,400;0,700;0,800;0,900;1,300;1,400&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0" />
    <link rel="stylesheet" href="https://use.typekit.net/apu5eah.css">
	<title> My Form </title>
</head>

<body>
<header>
    <img src="../img/rewoven-logo-1.png">
    <div class="nav-icon">
    <span class="menu-icon">menu</span>
    <a class="home-icon" href="index.html">home</a>
        </div>
        <div class="content">
            <a href="index.html">Home</a><br>
            <a href="../html/form.html">Commission form</a></span></a><br>
            <a href="../html/process.html">How it works</a><br>
            <a href="../html/customert.html">Our happy customers</a><br>
            </div>     
			<h2>Order form</h2>
</header>

<form class="grid two-column left" id="my-form" method="POST" 
action="https://script.google.com/macros/s/AKfycbwA4FR5O7f_e72V5-3WGcuTK_BR3OtNoG4y5ih3C126ruhHhWmhHIahrZKXOWBa_VCB/exec">

<label for="Name" class="col-1 zain-extrabold">First name</label>
<input name="Name" type="text" placeholder="Name" class="two-column left" required><br>

<label for="Email" class="col-1 zain-extrabold">Email</label>
<input name="Email" type="text" placeholder="Email" class="two-column left" required><br>

<!-- Size Change Section -->
<label for="size-1-a" class="two-column left zain-extrabold">Size change</label>
<div class="checkbox two-column left">
	<input id="No-size" type="checkbox" name="Size Change" value="No" class="col-1">
	<label class="checkbox-label" for="No-size">No</label>

	<input id="sizeCheck" type="checkbox" name="Size Change" value="Yes" onclick="hiddenCheck('size-box')">
	<label class="checkbox-label" for="sizeCheck">Yes</label>

	<div class="two-column hidden-box" id="size-box" style="display: none;">
		<label class="two-column">Waist measurement</label>
		<label class="col-1 left checkbox-label">Initial <input name="Initial Waist Measurement" type="text" placeholder="inches" class="col-1 left"></label>
		<label class="col-2 left checkbox-label">Desired <input name="Desired Waist Measurement" type="text" placeholder="inches" class="col-2 left"></label>
	</div>
</div><br>

<!-- Shape Change Section -->
<label for="shape-1-a" class="two-column left zain-extrabold">Shape change</label>
<div class="checkbox two-column left">
	<input id="No-shape" type="checkbox" name="Shape Change" value="No" class="col-1">
	<label class="checkbox-label" for="No-shape">No</label>

	<input id="shapeCheck" type="checkbox" name="Shape Change" value="Yes" onclick="hiddenCheck('shape-box')">
	<label class="checkbox-label" for="shapeCheck">Yes</label>

	<div class="two-column hidden-box" id="shape-box" style="display: none;">
		<label class="two-column">Shape:</label>
		<label class="col-1 left checkbox-label"><img src="../img/shape-01.png"><input type="checkbox" name="Shape Selection" value="Straight">Straight</label>
		<label class="col-2 left checkbox-label"><img src="../img/shape-05.png"><input type="checkbox" name="Shape Selection" value="Skinny">Skinny</label>
		<label class="col-1 left checkbox-label"><img src="../img/shape-06.png"><input type="checkbox" name="Shape Selection" value="Wide Leg">Wide leg</label>
		<label class="col-2 left checkbox-label"><img src="../img/shape-02.png"><input type="checkbox" name="Shape Selection" value="Boyfriend">Boyfriend</label>
		<label class="col-1 left checkbox-label"><img src="../img/shape-01.png"><input type="checkbox" name="Shape Selection" value="Regular">Regular</label>
		<label class="col-2 left checkbox-label"><img src="../img/shape-01.png"><input type="checkbox" name="Shape Selection" value="Flared">Flared</label>
	</div>
</div><br>

<!-- Mending Section -->
<label for="mending-1-a" class="two-column left zain-extrabold">Hole mending</label>
<div class="checkbox two-column left">
	<input id="No-mending" type="checkbox" name="Hole Mending" value="No" class="col-1">
	<label class="checkbox-label" for="No-mending">No</label>

	<input id="mendingCheck" type="checkbox" name="Hole Mending" value="Yes" onclick="hiddenCheck('mending-box')">
	<label class="checkbox-label" for="mendingCheck">Yes</label>

	<div class="two-column hidden-box" id="mending-box" style="display: none;">
		<label class="two-column">Options:</label>
		<label class="col-1 left checkbox-label"><img src="../img/sashiko.png"><input type="checkbox" name="Mending Option" value="Sashiko">Sashiko</label>
		<label class="col-2 left checkbox-label"><img src="../img/patchwork.png"><input type="checkbox" name="Mending Option" value="Invisible">Invisible</label>
		<label class="col-1 left checkbox-label"><img src="../img/invisible-m.webp"><input type="checkbox" name="Mending Option" value="Patchwork">Patchwork</label>
	</div>
</div><br>

<!-- Color Palette -->
<label class="two-column left zain-extrabold">Color palette</label>
<div class="checkbox two-column left check-grid">
	<label class="col-1 left checkbox-label"><img src="../img/denim-c.png"><input type="checkbox" name="Color Palette" value="Denim Only">Denim only</label>
	<label class="col-2 left checkbox-label"><img src="../img/vibrant-c.png"><input type="checkbox" name="Color Palette" value="Vibrant">Vibrant</label>
	<label class="col-1 left checkbox-label"><img src="../img/pastel-c.png"><input type="checkbox" name="Color Palette" value="Pastel">Pastel</label>
	<label class="col-2 left checkbox-label"><img src="../img/mono-c.png"><input type="checkbox" name="Color Palette" value="Greyscale">Greyscale</label>
</div><br>

<!-- Personal Style -->
<label class="two-column left zain-extrabold">Personal style</label>
<div class="checkbox two-column left">
	<input id="masc" type="checkbox" name="Personal Style" value="Masc" class="col-1">
	<label class="checkbox-label" for="masc">Masculine</label><br>
	<input id="andr" type="checkbox" name="Personal Style" value="Androgynous" class="col-1">
	<label class="checkbox-label" for="andr">Androgynous</label><br>
	<input id="fem" type="checkbox" name="Personal Style" value="Feminine" class="col-1">
	<label class="checkbox-label" for="fem">Feminine</label><br>
</div><br>

<!-- Upload Image -->
<label for="inspo" class="two-column left zain-extrabold">Upload inspo picture</label>
<input type="file" id="inspo" name="Inspo Picture" accept="image/png, image/jpeg"/><br>

<!-- Personal Requests -->
<label for="Requests" class="two-column left zain-extrabold">Personal Requests</label>
<textarea name="Personal Requests" type="text" class="two-column left" placeholder="Your text here" rows="10" cols="30" required></textarea><br><br>

<!-- Payment Info -->
<h3 class="two-column">Payment information</h3>
<label for="Card-number" class="col-1">Card number</label>
<input name="Card Number" type="text" placeholder="XXXX XXXX XXXX XXXX" class="col-1" required><br>

<label for="Expiration-date" class="col-1">Expiration date</label>
<input name="Expiration Month" type="text" placeholder="MM" class="col-1" required>
<input name="Expiration Year" type="text" placeholder="YY" class="col-2" required><br>

<label for="Security-code" class="col-1">Security code</label>
<input name="Security Code" type="text" placeholder="CSC" class="col-1" required><br>

<label for="cardholder-name" class="col-1">Cardholder name</label>
<input name="Cardholder Name" type="text" placeholder="Name" class="two-column left" required><br>

<button class="button two-column" type="submit">Submit</button>
</form>

	
          
<div id="data-container"></div>
     
<footer>
    <img src="../img/logo-rewoven-white.png" >
    
    <a href="https://www.youtube.com/channel/UCqCOiJrG88Xx8-dNqdaxTTw" class="youtube-logo"><img class="youtube-logo" src="../img/youtube-logo.png" alt="youtube logo"></a>
      
            <a href="index.html">Home</a>
            <a href="../html/form.html" class="col-2">Commission form</a>
            <a href="../html/process.html" >Our process</a>
            <a href="../html/customert.html" class="col-2">Customer testimonials</a>
            
</footer>
        
    
<script src="../app.js"></script>
<script>
	document.getElementById("my-form").addEventListener("submit", function(event) {
		event.preventDefault(); // Prevent default form submission
		let form = event.target;
    let formData = new FormData(form);

    // Send the form data using Fetch API
    fetch(form.action, {
        method: "POST",
        body: formData
    })
    .then(response => response.json()) // Assuming your Google Script returns JSON
    .then(data => {
        // Redirect only if submission is successful
        if (data.result === "success") {
            window.location.href = "success.html"; // Redirect to success page
        } else {
            alert("There was an error. Please try again.");
        }
    })
    .catch(error => {
        console.error("Error submitting form:", error);
        alert("Submission failed. Please try again.");
    });});
	
	// Function to fetch and display Google Sheets data
	function loadData() {
		fetch("YOUR_WEB_APP_URL") // Replace with the Web App URL from Apps Script
		.then(response => response.json())
		.then(data => {
			let output = "<h2>Submitted Data:</h2><table border='1'>";
			output += "<tr><th>Card Number</th><th>Expiration</th><th>Security Code</th><th>Cardholder</th></tr>";
			data.forEach(row => {
				output += `<tr><td>${row[0]}</td><td>${row[1]}</td><td>${row[2]}</td><td>${row[3]}</td></tr>`;
			});
			output += "</table>";
			document.getElementById("data-container").innerHTML = output;
		})
		.catch(error => console.error("Error fetching data:", error));
	}
	
	// Load data on page load
	window.onload = loadData;
	</script>    
</body>

</html>